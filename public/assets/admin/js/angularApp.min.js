var app=angular.module("myApp",["ngRoute","ui.bootstrap","angularUtils.directives.dirPagination"]);app.config(function(e){e.when("/",{}).when("/employees",{templateUrl:"employees",controller:"employeeController"}).when("/portfolio",{templateUrl:"portfolio",controller:"portfolioController"}).when("/testimonial",{templateUrl:"testimonial",controller:"testimonialController"}).when("/gallery",{templateUrl:"gallery",controller:"GalleryController"}).when("/profile",{templateUrl:"change"})}),app.filter("startFrom",function(){return function(e,n){return n=+n,e.slice(n)}}),app.directive("ngFileModel",["$parse",function(e){return{restrict:"A",link:function(n,o,t){var i=e(t.ngFileModel),r=t.multiple,a=i.assign;o.bind("change",function(){var e=[];console.log(o[0].files),angular.forEach(o[0].files,function(n){var o={name:n.name,size:n.size,url:URL.createObjectURL(n),_file:n};e.push(o)}),n.$apply(function(){r?a(n,e):a(n,e[0])})})}}}]),app.directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(n,o,t){var i=e(t.fileModel),r=i.assign;n.filespre=[],o.bind("change",function(){angular.forEach(o[0].files,function(e){e.url=URL.createObjectURL(e),e.model=t.fileModel,n.filespre.push(e)}),n.$apply(function(){r(n,o[0].files)})})}}}]),app.service("fileUpload",["$http",function(e){this.uploadFileToUrl=function(n,o,t){var i=new FormData,r=0;return angular.forEach(n,function(e){i.append(r,e),r++}),i.append("name",t),e.post(o,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}})}}]),app.service("action",["$http",function(e){this.post=function(n,o){return e({method:"post",url:o,data:n,header:{"Content-type":"application/x-www-form-urlencoded"}})}}]),app.directive("startslider",function(){return{restrict:"A",replace:!1,template:'<ul class="bxslider"><li ng-repeat="picture in portfolioitem.files"><img ng-src="{{picture.src}}" alt="" /></li></ul>',link:function(e,n,o){n.ready(function(){$("."+$(n[0]).attr("class")).bxSlider({mode:"fade",auto:!0,autoControls:!0,slideHeight:386})})}}}),app.directive("ngConfirmClick",[function(){return{link:function(e,n,o){var t=o.ngConfirmClick||"Are you sure?",i=o.confirmedClick;n.bind("click",function(n){window.confirm(t)&&e.$eval(i)})}}}]),function(){function e(e,n,o){function t(t,u){var g=u.dirPaginate,d=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),f=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===d[2].match(f))throw"pagination directive: the 'itemsPerPage' filter must be set.";var p=d[2].replace(f,""),m=n(p);a(t);var h=u.paginationId||c;return o.registerInstance(h),function(t,a,u){var d=n(u.paginationId)(t)||u.paginationId||c;o.registerInstance(d);var f=i(g,d);r(a,u,f),l(a);var p=e(a),h=s(t,u,d);o.setCurrentPageParser(d,h,t),"undefined"!=typeof u.totalItems?(o.setAsyncModeTrue(d),t.$watch(function(){return n(u.totalItems)(t)},function(e){0<=e&&o.setCollectionLength(d,e)})):(o.setAsyncModeFalse(d),t.$watchCollection(function(){return m(t)},function(e){if(e){var n=e instanceof Array?e.length:Object.keys(e).length;o.setCollectionLength(d,n)}})),p(t)}}function i(e,n){var o,t=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return o=n===c||t?e:e.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+n+"'")}function r(e,n,o){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(n.$set("ngRepeatStart",o),e.eq(e.length-1).attr("ng-repeat-end",!0)):n.$set("ngRepeat",o)}function a(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}function l(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function s(e,o,t){var i;if(o.currentPage)i=n(o.currentPage);else{var r=(t+"__currentPage").replace(/\W/g,"_");e[r]=1,i=n(r)}return i}return{terminal:!0,multiElement:!0,priority:100,compile:t}}function n(){return{priority:5e3,terminal:!0}}function o(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function t(e,n){function o(n,o,i){function a(o){if(e.isRegistered(d)&&u(o)){var i=n.pagination.current;n.pages=t(o,e.getCollectionLength(d),e.getItemsPerPage(d),p),n.pagination.current=o,s(),n.onPageChange&&n.onPageChange({newPageNumber:o,oldPageNumber:i})}}function l(){if(e.isRegistered(d)){var o=parseInt(e.getCurrentPage(d))||1;n.pages=t(o,e.getCollectionLength(d),e.getItemsPerPage(d),p),n.pagination.current=o,n.pagination.last=n.pages[n.pages.length-1],n.pagination.last<n.pagination.current?n.setCurrent(n.pagination.last):s()}}function s(){if(e.isRegistered(d)){var o=e.getCurrentPage(d),t=e.getItemsPerPage(d),i=e.getCollectionLength(d);n.range.lower=(o-1)*t+1,n.range.upper=Math.min(o*t,i),n.range.total=i}}function u(e){return r.test(e)&&0<e&&e<=n.pagination.last}var g=i.paginationId||c,d=n.paginationId||i.paginationId||c;if(!e.isRegistered(d)&&!e.isRegistered(g)){var f=d!==c?" (id: "+d+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+f+"cannot be used without the corresponding pagination directive, which was not found at link time.")}n.maxSize||(n.maxSize=9),n.autoHide=void 0===n.autoHide||n.autoHide,n.directionLinks=!angular.isDefined(i.directionLinks)||n.$parent.$eval(i.directionLinks),n.boundaryLinks=!!angular.isDefined(i.boundaryLinks)&&n.$parent.$eval(i.boundaryLinks);var p=Math.max(n.maxSize,5);n.pages=[],n.pagination={last:1,current:1},n.range={lower:1,upper:1,total:1},n.$watch("maxSize",function(e){e&&(p=Math.max(n.maxSize,5),l())}),n.$watch(function(){if(e.isRegistered(d))return(e.getCollectionLength(d)+1)*e.getItemsPerPage(d)},function(e){0<e&&l()}),n.$watch(function(){if(e.isRegistered(d))return e.getItemsPerPage(d)},function(e,o){e!=o&&"undefined"!=typeof o&&a(n.pagination.current)}),n.$watch(function(){if(e.isRegistered(d))return e.getCurrentPage(d)},function(e,n){e!=n&&a(e)}),n.setCurrent=function(n){e.isRegistered(d)&&u(n)&&(n=parseInt(n,10),e.setCurrentPage(d,n))},n.tracker=function(e,n){return e+"_"+n}}function t(e,n,o,t){var r,a=[],l=Math.ceil(n/o),s=Math.ceil(t/2);r=e<=s?"start":l-s<e?"end":"middle";for(var c=t<l,u=1;u<=l&&u<=t;){var g=i(u,e,t,l),d=2===u&&("middle"===r||"end"===r),f=u===t-1&&("middle"===r||"start"===r);c&&(d||f)?a.push("..."):a.push(g),u++}return a}function i(e,n,o,t){var i=Math.ceil(o/2);return e===o?t:1===e?e:o<t?t-i<n?t-o+e:i<n?n-i+e:e:e}var r=/^\d+$/,a={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:o},l=n.getString();return void 0!==l?a.template=l:a.templateUrl=function(e,o){return o.templateUrl||n.getPath()},a}function i(e){return function(n,o,t){if("undefined"==typeof t&&(t=c),!e.isRegistered(t))throw"pagination directive: the itemsPerPage id argument (id: "+t+") does not match a registered pagination-id.";var i,a;if(angular.isObject(n)){if(o=parseInt(o)||9999999999,a=e.isAsyncMode(t)?0:(e.getCurrentPage(t)-1)*o,i=a+o,e.setItemsPerPage(t,o),n instanceof Array)return n.slice(a,i);var l={};return angular.forEach(r(n).slice(a,i),function(e){l[e]=n[e]}),l}return n}}function r(e){if(Object.keys)return Object.keys(e);var n=[];for(var o in e)e.hasOwnProperty(o)&&n.push(o);return n}function a(){var e,n={};this.registerInstance=function(o){"undefined"==typeof n[o]&&(n[o]={asyncMode:!1},e=o)},this.deregisterInstance=function(e){delete n[e]},this.isRegistered=function(e){return"undefined"!=typeof n[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,o,t){n[e].currentPageParser=o,n[e].context=t},this.setCurrentPage=function(e,o){n[e].currentPageParser.assign(n[e].context,o)},this.getCurrentPage=function(e){var o=n[e].currentPageParser;return o?o(n[e].context):1},this.setItemsPerPage=function(e,o){n[e].itemsPerPage=o},this.getItemsPerPage=function(e){return n[e].itemsPerPage},this.setCollectionLength=function(e,o){n[e].collectionLength=o},this.getCollectionLength=function(e){return n[e].collectionLength},this.setAsyncModeTrue=function(e){n[e].asyncMode=!0},this.setAsyncModeFalse=function(e){n[e].asyncMode=!1},this.isAsyncMode=function(e){return n[e].asyncMode}}function l(){var e,n="angularUtils.directives.dirPagination.template";this.setPath=function(e){n=e},this.setString=function(n){e=n},this.$get=function(){return{getPath:function(){return n},getString:function(){return e}}}}var s="angularUtils.directives.dirPagination",c="__default";angular.module(s,[]).directive("dirPaginate",["$compile","$parse","paginationService",e]).directive("dirPaginateNoCompile",n).directive("dirPaginationControls",["paginationService","paginationTemplate",t]).filter("itemsPerPage",["paginationService",i]).service("paginationService",a).provider("paginationTemplate",l).run(["$templateCache",o])}(),app.controller("adminController",function(e,n,o,t,i,r){function a(){var n=t.base_url+"/admin/user";o.get(n).then(function(n){n.data&&(e.user=n.data.username,e.newuser.username=e.user,console.log(n.data.username))})}e.employees=[],e.error={};var l=e.baseUrl=n.protocol()+"://"+location.host;t.base_url=l,t.public_url=e.baseUrl=n.protocol()+"://"+location.host,e.newuser={},e.formdisable=!1,e.paginations=[5,10,20,25],e.numPerPage=5,e.format="yyyy/MM/dd",e.user={},e.paginations=[5,10,20,25],e.numPerPage=5,a(),e.login=function(){console.log("login");var n=new FormData;angular.forEach(e.user,function(e,o){n.append(o,e)});var i=t.base_url+"/login/verify";o.post(i,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(e,n,o){r.location.href="/admin/#"}).error(function(n,o,t){console.log("login error"),console.log(n),e.error=n,e.showerror=!0})},e.changeProfile=function(){t.loading=!0;var n=new FormData;angular.forEach(e.newuser,function(e,o){n.append(o,e)});var i=t.base_url+"/admin/change/submit";o.post(i,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(n,o,i){t.loading=!1,console.log("profile changed"),e.showmsg=!0,e.formdisable=!0}).error(function(n,o,i){t.loading=!1,e.showerror=!0})},e.reset=function(){e.newuser={},a(),e.newuser.username=e.user,e.showerror=!1,e.showmsg=!1,e.formdisable=!1},e.cancel=function(){r.location.href="/admin/#"}}),app.controller("GalleryController",function(e,n,o,t,i){function r(){e.loading=!0,o.get(n.base_url+"/admin/gallery/get-all").then(function(n){n.data?(e.galleries=n.data,console.log(e.galleries),e.loading=!1):(console.log("No data found"),e.message="No data found",e.loading=!1)})}e.galleries=[],e.newgallery={},e.curgallery={},e.galleryfiles={},e.files=[],e.item_files={},e.message={},e.show_error=!1,e.error=[],e.showform=!1,e.loading=!1,e.numPerPage=8,r(),e.showForm=function(n){e.showform=!0,e.curgallery=n,e.newgallery=angular.copy(n),e.item_files=n.files},e.hideForm=function(){e.showform=!1},e.newGallery=function(){e.newgallery={},e.showform=!0,angular.element("input[type='file']").val(null),e.filespre=[]},e.addGallery=function(){e.loading=!0;var t=new FormData;if(angular.forEach(e.newgallery,function(e,n){t.append(n,e)}),angular.forEach(e.files.image,function(e,n){t.append("files[]",e)}),console.log(t.getAll("name")),e.newgallery.id){console.log("edit");var i=n.base_url+"/admin/gallery/edit/"+e.newgallery.id;o.post(i,t,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log("edit success"),void 0!=n.error&&(e.show_error=!0,e.error=n.error),r(),console.log(e.error),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],e.loading=!1}).error(function(n,o,t){console.log("edit error"),console.log(n),e.loading=!1})}else{console.log(e.newgallery),console.log(e.files.image);var i=n.base_url+"/admin/gallery/add";o.post(i,t,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log("add success"),void 0!=n.error&&(e.show_error=!0,e.error=n.error),e.showform=!1,r(),angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],console.log(e.error),e.loading=!1}).error(function(n,o,t){console.log("add error"),console.log(n),e.loading=!1})}},e.showGalleryFiles=function(n){console.log(n),e.galleryfiles=n},e.deleteImage=function(o){e.loading=!0,console.log(o);var i=n.base_url+"/admin/gallery/delete-image",r=o;t.post(r,i).success(function(n,t,i){console.log("image deleted"),console.log(n);var r=e.item_files.indexOf(o);e.item_files.splice(r,1),console.log(e.item_files),e.loading=!1}).error(function(n,o,t){console.log("delete image error"),console.log(n),e.loading=!1})},e.deleteGallery=function(o){e.loading=!0;var i=n.base_url+"/admin/gallery/delete";t.post(o,i).success(function(n,t,i){console.log("gallery deleted");var r=e.galleries.indexOf(o);e.galleries.splice(r,1),e.loading=!1}).error(function(n,o,t){console.log("delete error"),console.log(n),e.loading=!1})}}),app.controller("portfolioController",function(e,n,o,t,i,r,a){function l(){o.get(t.base_url+"/admin/portfolio/get-all").then(function(n){e.loading=!0,n.data?(e.showtable=!0,e.portfolios=n.data,console.log(e.portfolios),e.loading=!1):(console.log("No data found"),e.showtable=!1,e.message="No data Found",e.loading=!1)})}e.newportfolio={},e.portfolios=[],e.curportfolio={},e.message={},e.error={},e.showform=!1,e.showtable=!0,e.files=[],e.loading=!1,e.item_files=[],e.show_error=!1,l(),e.showForm=function(n){e.showform=!0,e.show_error=!1,e.curportfolio=n,e.newportfolio=angular.copy(n),angular.element("input[type='file']").val(null),e.filespre=[],e.item_files=n.files,console.log(e.item_files)},e.hideForm=function(){e.showform=!1},e.newPortfolio=function(){e.newportfolio={},e.showform=!0,angular.element("input[type='file']").val(null),e.filespre=[]},e.addPortfolio=function(){e.loading=!0;e.files.desktop,e.files.mobile;if(void 0!=e.newportfolio.link){var n=e.newportfolio.link;~n.indexOf("http")||(e.newportfolio.link="http://"+n)}e.newportfolio.date=i("date")(Date.parse(e.newportfolio.date),"yyyy-MM-dd");var r=new FormData;if(angular.forEach(e.newportfolio,function(e,n){r.append(n,e)}),angular.forEach(e.files.desktop,function(e,n){r.append("desktop[]",e)}),angular.forEach(e.files.mobile,function(e,n){r.append("mobile[]",e)}),void 0!=e.newportfolio.id){console.log("edit");var a=t.base_url+"/admin/portfolio/edit/"+e.newportfolio.id;o.post(a,r,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log("edit succes"),console.log(n),void 0!=n.error&&(e.show_error=!0,e.error=n.error),l(),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],e.loading=!1}).error(function(n,o,t){console.log("edit error"),console.log(n),void 0!=n.error&&(e.show_error=!0,e.error=n.error),l(),angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],e.loading=!1})}else{console.log("add");var a=t.base_url+"/admin/portfolio/add";o.post(a,r,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log("add succes"),console.log(n),console.log(n.error),void 0!=n.error&&(e.show_error=!0,e.error=n.error),l(),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],e.loading=!1}).error(function(n,o,t){console.log("add error"),void 0!=n.error&&(e.show_error=!0,e.error=n.error),l(),angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],e.loading=!1})}},e.deletePortfolio=function(n){e.loading=!0;var i=n.id;o.delete(t.base_url+"/admin/portfolio/delete/"+i).success(function(n,o,t){console.log(n),alert(n),l(),e.loading=!1})},e.deleteImage=function(n){e.loading=!0;var o=t.base_url+"/admin/portfolio/delete-image",i=n;a.post(i,o).success(function(o,t,i){console.log("portfolio file deleted");var r=e.item_files.indexOf(n);e.item_files.splice(r,1),e.loading=!1}).error(function(n,o,t){console.log("portfolio file delete error"),e.loading=!1})}}),app.controller("testimonialController",function(e,n,o,t){function i(){e.loading=!0,n.get(o.base_url+"/Testimonial_Controller/get_all").then(function(n){n.data?(e.testimonials=n.data,e.showtable=!0,console.log(e.testimonials),e.loading=!1):(console.log("No data Found"),e.showtable=!1,e.message="No data found",e.loading=!1)})}e.testimonials=[],e.newtestimonial={},e.curtestimonial={},e.files=[],e.showform=!1,e.loading=!1,e.message={},i(),e.newTestimonial=function(){e.newtestimonial={},angular.element("input[type='file']").val(null),e.filespre=[],e.showform=!0},e.showForm=function(n){console.log(n),e.showform=!0,e.curtestimonial=n,angular.element("input[type='file']").val(null),e.newtestimonial=angular.copy(n),e.filespre=[]},e.hideForm=function(){e.showform=!1},e.addTestimonial=function(){if(e.loading=!0,void 0!=e.newtestimonial.link){var t=e.newtestimonial.link;~t.indexOf("http")||(e.newtestimonial.link="http://"+t)}var r=new FormData,a=0;if(angular.forEach(e.newtestimonial,function(e,n){r.append(n,e)}),angular.forEach(e.files.photo,function(e,n){r.append("photo",e),a++}),e.newtestimonial.id){console.log("edit"),console.log(e.newtestimonial);var l=o.base_url+"/admin/testimonial/edit/"+e.newtestimonial.id;n.post(l,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log("test add success"),console.log(n),e.testimonials.push(n),i(),e.newtestimonial={},e.showform=!1,e.loading=!1}).error(function(n,o,t){console.log("test add error"),console.log(n),e.loading=!1})}else{console.log("add"),console.log(e.newtestimonial);var l=o.base_url+"/admin/testimonial/add";n.post(l,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log("test add success"),e.testimonials.push(n),i(),e.newtestimonial={},e.showform=!1,e.loading=!1}).error(function(n,o,t){console.log("test add error"),console.log(n),e.loading=!1})}},e.deleteTestimonial=function(n){e.loading=!0;var r=n.id,a=o.base_url+"/admin/testimonial/delete/"+r,l=n;t.post(l,a).success(function(o,t,r){console.log("deleted");var a=e.testimonials.indexOf(n);e.testimonials.splice(a,1),alert(o),i(),e.loading=!1}).error(function(n,o,t){console.log("delete error"),console.log(n),e.loading=!1})}}),app.controller("employeeController",function(e,n,o,t,i,r){function a(){e.loading=!0,o.get(t.base_url+"/admin/employee").then(function(n){n.data?(e.employees=n.data,e.showtable=!0,e.loading=!1):(console.log("No data found!"),e.showtable=!1,e.message="No Data Found",e.loading=!1)})}e.newemployee={},e.employees=[],e.curemploye=[],e.files=[],e.showform=!1,e.loading=!1,e.message={},e.filespre=[],a(),e.showForm=function(n){console.log(n),e.showform=!0,e.curemploye=n,e.newemployee=angular.copy(n),angular.element("input[type='file']").val(null),e.filespre=[]},e.hideForm=function(){e.showform=!1},e.newEmployee=function(){e.newemployee={},e.showform=!0,angular.element("input[type='file']").val(null),e.filespre=[]},e.addEmployee=function(){if(e.loading=!0,void 0!=e.newemployee.linkedin){var n=e.newemployee.linkedin;~n.indexOf("http")||(e.newemployee.linkedin="http://"+n)}if(void 0!=e.newemployee.facebook){var n=e.newemployee.facebook;~n.indexOf("http")||(e.newemployee.facebook="http://"+n)}if(void 0!=e.newemployee.twitter){var n=e.newemployee.twitter;~n.indexOf("http")||(e.newemployee.twitter="http://"+n)}if(void 0!=e.newemployee.googleplus){var n=e.newemployee.googleplus;~n.indexOf("http")||(e.newemployee.googleplus="http://"+n)}if(void 0!=e.newemployee.github){var n=e.newemployee.github;~n.indexOf("http")||(e.newemployee.github="http://"+n)}var i=new FormData,r=0;if(angular.forEach(e.newemployee,function(e,n){i.append(n,e)}),angular.forEach(e.files.photo,function(e,n){i.append("photo",e),r++}),e.newemployee.id){console.log("edit");var l=t.base_url+"/admin/employee/edit/"+e.newemployee.id;o.post(l,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(n,o,t){e.newemployee={},e.showform=!1,e.employees.push(n),a(),e.newemployee={},e.filespre=[],e.loading=!1}).error(function(n,o,t){console.log(n),e.loading=!1})}else{var l=t.base_url+"/admin/employee/add";o.post(l,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(n,o,t){console.log(n),e.employees.push(n),a(),e.newemployee={},e.showform=!1,e.filespre=[],e.loading=!1}).error(function(n,o,t){console.log(n),e.loading=!1})}},e.deleteEmployee=function(n){e.loading=!0,console.log(n);var o=n.id,i=t.base_url+"/admin/employee/delete/"+o,l=n;r.post(l,i).success(function(o,t,i){console.log("deleted");var r=e.employees.indexOf(n);e.employees.splice(r,1),alert(o),a(),e.loading=!1}).error(function(n,o,t){console.log("delete error"),console.log(n),e.loading=!1})}}),app.controller("teamController",function(e,n,o,t){function i(){o.get(n.base_url+"/load_team").then(function(n){n.data?(e.teams=n.data,console.log(e.teams)):(e.message="No data Found",console.log("No data Found"))})}e.teams=[],n.base_url=e.baseUrl=t.protocol()+"://"+location.host,i()});