var app=angular.module("myApp",["ngRoute","ui.bootstrap","angularUtils.directives.dirPagination"]);app.config(function(e){e.when("/employees",{templateUrl:"employees",controller:"employeeController"}).when("/portfolio",{templateUrl:"portfolio",controller:"portfolioController"}).when("/testimonial",{templateUrl:"testimonial",controller:"testimonialController"}).when("/gallery",{templateUrl:"gallery",controller:"GalleryController"})}),app.filter("startFrom",function(){return function(e,o){return o=+o,e.slice(o)}}),app.directive("ngFileModel",["$parse",function(e){return{restrict:"A",link:function(o,n,t){var r=e(t.ngFileModel),i=t.multiple,l=r.assign;n.bind("change",function(){var e=[];console.log(n[0].files),angular.forEach(n[0].files,function(o){var n={name:o.name,size:o.size,url:URL.createObjectURL(o),_file:o};e.push(n)}),o.$apply(function(){i?l(o,e):l(o,e[0])})})}}}]),app.directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(o,n,t){var r=e(t.fileModel),i=r.assign;o.filespre=[],n.bind("change",function(){angular.forEach(n[0].files,function(e){e.url=URL.createObjectURL(e),e.model=t.fileModel,o.filespre.push(e)}),o.$apply(function(){i(o,n[0].files)})})}}}]),app.service("fileUpload",["$http",function(e){this.uploadFileToUrl=function(o,n,t){var r=new FormData,i=0;return angular.forEach(o,function(e){r.append(i,e),i++}),r.append("name",t),e.post(n,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}})}}]),app.service("action",["$http",function(e){this.post=function(o,n){return e({method:"post",url:n,data:o,header:{"Content-type":"application/x-www-form-urlencoded"}})}}]),app.directive("startslider",function(){return{restrict:"A",replace:!1,template:'<ul class="bxslider"><li ng-repeat="picture in portfolioitem.files"><img ng-src="{{picture.src}}" alt="" /></li></ul>',link:function(e,o,n){o.ready(function(){$("."+$(o[0]).attr("class")).bxSlider({mode:"fade",auto:!0,autoControls:!0,slideHeight:386})})}}}),app.directive("ngConfirmClick",[function(){return{link:function(e,o,n){var t=n.ngConfirmClick||"Are you sure?",r=n.confirmedClick;o.bind("click",function(o){window.confirm(t)&&e.$eval(r)})}}}]),app.controller("MainCtrl",function(e,o){e.base="http://bxslider.com",e.images=[{src:o.public_url+"/assets/img/portfolio/preview/1.JPG"},{src:o.public_url+"/assets/img/portfolio/preview/2.JPG"},{src:o.public_url+"/assets/img/portfolio/preview/6.JPG"}]}),app.directive("carousel",[function(){return{restrict:"A",replace:!1,controller:"HomeBlogController",require:"carousel"}}]),function(){function e(e,o,n){function t(t,u){var f=u.dirPaginate,p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),g=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(null===p[2].match(g))throw"pagination directive: the 'itemsPerPage' filter must be set.";var d=p[2].replace(g,""),m=o(d);l(t);var h=u.paginationId||c;return n.registerInstance(h),function(t,l,u){var p=o(u.paginationId)(t)||u.paginationId||c;n.registerInstance(p);var g=r(f,p);i(l,u,g),a(l);var d=e(l),h=s(t,u,p);n.setCurrentPageParser(p,h,t),"undefined"!=typeof u.totalItems?(n.setAsyncModeTrue(p),t.$watch(function(){return o(u.totalItems)(t)},function(e){0<=e&&n.setCollectionLength(p,e)})):(n.setAsyncModeFalse(p),t.$watchCollection(function(){return m(t)},function(e){if(e){var o=e instanceof Array?e.length:Object.keys(e).length;n.setCollectionLength(p,o)}})),d(t)}}function r(e,o){var n,t=!!e.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);return n=o===c||t?e:e.replace(/(\|\s*itemsPerPage\s*:\s*[^|\s]*)/,"$1 : '"+o+"'")}function i(e,o,n){e[0].hasAttribute("dir-paginate-start")||e[0].hasAttribute("data-dir-paginate-start")?(o.$set("ngRepeatStart",n),e.eq(e.length-1).attr("ng-repeat-end",!0)):o.$set("ngRepeat",n)}function l(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).attr("dir-paginate-no-compile",!0)})}function a(e){angular.forEach(e,function(e){1===e.nodeType&&angular.element(e).removeAttr("dir-paginate-no-compile")}),e.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate"),e.eq(e.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function s(e,n,t){var r;if(n.currentPage)r=o(n.currentPage);else{var i=(t+"__currentPage").replace(/\W/g,"_");e[i]=1,r=o(i)}return r}return{terminal:!0,multiElement:!0,priority:100,compile:t}}function o(){return{priority:5e3,terminal:!0}}function n(e){e.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function t(e,o){function n(o,n,r){function l(n){if(e.isRegistered(p)&&u(n)){var r=o.pagination.current;o.pages=t(n,e.getCollectionLength(p),e.getItemsPerPage(p),d),o.pagination.current=n,s(),o.onPageChange&&o.onPageChange({newPageNumber:n,oldPageNumber:r})}}function a(){if(e.isRegistered(p)){var n=parseInt(e.getCurrentPage(p))||1;o.pages=t(n,e.getCollectionLength(p),e.getItemsPerPage(p),d),o.pagination.current=n,o.pagination.last=o.pages[o.pages.length-1],o.pagination.last<o.pagination.current?o.setCurrent(o.pagination.last):s()}}function s(){if(e.isRegistered(p)){var n=e.getCurrentPage(p),t=e.getItemsPerPage(p),r=e.getCollectionLength(p);o.range.lower=(n-1)*t+1,o.range.upper=Math.min(n*t,r),o.range.total=r}}function u(e){return i.test(e)&&0<e&&e<=o.pagination.last}var f=r.paginationId||c,p=o.paginationId||r.paginationId||c;if(!e.isRegistered(p)&&!e.isRegistered(f)){var g=p!==c?" (id: "+p+") ":" ";window.console&&console.warn("Pagination directive: the pagination controls"+g+"cannot be used without the corresponding pagination directive, which was not found at link time.")}o.maxSize||(o.maxSize=9),o.autoHide=void 0===o.autoHide||o.autoHide,o.directionLinks=!angular.isDefined(r.directionLinks)||o.$parent.$eval(r.directionLinks),o.boundaryLinks=!!angular.isDefined(r.boundaryLinks)&&o.$parent.$eval(r.boundaryLinks);var d=Math.max(o.maxSize,5);o.pages=[],o.pagination={last:1,current:1},o.range={lower:1,upper:1,total:1},o.$watch("maxSize",function(e){e&&(d=Math.max(o.maxSize,5),a())}),o.$watch(function(){if(e.isRegistered(p))return(e.getCollectionLength(p)+1)*e.getItemsPerPage(p)},function(e){0<e&&a()}),o.$watch(function(){if(e.isRegistered(p))return e.getItemsPerPage(p)},function(e,n){e!=n&&"undefined"!=typeof n&&l(o.pagination.current)}),o.$watch(function(){if(e.isRegistered(p))return e.getCurrentPage(p)},function(e,o){e!=o&&l(e)}),o.setCurrent=function(o){e.isRegistered(p)&&u(o)&&(o=parseInt(o,10),e.setCurrentPage(p,o))},o.tracker=function(e,o){return e+"_"+o}}function t(e,o,n,t){var i,l=[],a=Math.ceil(o/n),s=Math.ceil(t/2);i=e<=s?"start":a-s<e?"end":"middle";for(var c=t<a,u=1;u<=a&&u<=t;){var f=r(u,e,t,a),p=2===u&&("middle"===i||"end"===i),g=u===t-1&&("middle"===i||"start"===i);c&&(p||g)?l.push("..."):l.push(f),u++}return l}function r(e,o,n,t){var r=Math.ceil(n/2);return e===n?t:1===e?e:n<t?t-r<o?t-n+e:r<o?o-r+e:e:e}var i=/^\d+$/,l={restrict:"AE",scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:n},a=o.getString();return void 0!==a?l.template=a:l.templateUrl=function(e,n){return n.templateUrl||o.getPath()},l}function r(e){return function(o,n,t){if("undefined"==typeof t&&(t=c),!e.isRegistered(t))throw"pagination directive: the itemsPerPage id argument (id: "+t+") does not match a registered pagination-id.";var r,l;if(angular.isObject(o)){if(n=parseInt(n)||9999999999,l=e.isAsyncMode(t)?0:(e.getCurrentPage(t)-1)*n,r=l+n,e.setItemsPerPage(t,n),o instanceof Array)return o.slice(l,r);var a={};return angular.forEach(i(o).slice(l,r),function(e){a[e]=o[e]}),a}return o}}function i(e){if(Object.keys)return Object.keys(e);var o=[];for(var n in e)e.hasOwnProperty(n)&&o.push(n);return o}function l(){var e,o={};this.registerInstance=function(n){"undefined"==typeof o[n]&&(o[n]={asyncMode:!1},e=n)},this.deregisterInstance=function(e){delete o[e]},this.isRegistered=function(e){return"undefined"!=typeof o[e]},this.getLastInstanceId=function(){return e},this.setCurrentPageParser=function(e,n,t){o[e].currentPageParser=n,o[e].context=t},this.setCurrentPage=function(e,n){o[e].currentPageParser.assign(o[e].context,n)},this.getCurrentPage=function(e){var n=o[e].currentPageParser;return n?n(o[e].context):1},this.setItemsPerPage=function(e,n){o[e].itemsPerPage=n},this.getItemsPerPage=function(e){return o[e].itemsPerPage},this.setCollectionLength=function(e,n){o[e].collectionLength=n},this.getCollectionLength=function(e){return o[e].collectionLength},this.setAsyncModeTrue=function(e){o[e].asyncMode=!0},this.setAsyncModeFalse=function(e){o[e].asyncMode=!1},this.isAsyncMode=function(e){return o[e].asyncMode}}function a(){var e,o="angularUtils.directives.dirPagination.template";this.setPath=function(e){o=e},this.setString=function(o){e=o},this.$get=function(){return{getPath:function(){return o},getString:function(){return e}}}}var s="angularUtils.directives.dirPagination",c="__default";angular.module(s,[]).directive("dirPaginate",["$compile","$parse","paginationService",e]).directive("dirPaginateNoCompile",o).directive("dirPaginationControls",["paginationService","paginationTemplate",t]).filter("itemsPerPage",["paginationService",r]).service("paginationService",l).provider("paginationTemplate",a).run(["$templateCache",n])}(),app.controller("adminController",function(e,o,n,t,r){e.employees=[],e.error={};var i=e.baseUrl=o.protocol()+"://"+location.host;t.base_url=i,t.public_url=e.baseUrl=o.protocol()+"://"+location.host+"/public",e.regex=RegExp("^((https?|ftp)://)?([a-z]+[.])?[a-z0-9-]+([.][a-z]{1,4}){1,2}(/.*[?].*)?$","i"),e.paginations=[5,10,20,25],e.numPerPage=5,e.format="yyyy/MM/dd"}),app.controller("GalleryController",function(e,o,n,t,r){function i(){n.get(o.base_url+"/Gallery_Controller/get").then(function(o){o.data?(e.galleries=o.data,console.log(e.galleries)):(console.log("No data found"),e.message="No data found")})}e.galleries=[],e.newgallery={},e.curgallery={},e.galleryfiles={},e.files=[],e.item_files={},e.message={},e.show_error=!1,e.error=[],e.showform=!1,i(),e.showForm=function(o){e.showform=!0,e.curgallery=o,e.newgallery=angular.copy(o),e.item_files=o.files},e.hideForm=function(){e.showform=!1},e.newGallery=function(){e.newgallery={},e.showform=!0},e.addGallery=function(){if(e.newgallery.id){console.log("edit");var t=o.base_url+"/Gallery_Controller/update/"+e.newgallery.id,r=new FormData;angular.forEach(e.newgallery,function(e,o){r.append(o,e)}),angular.forEach(e.files.image,function(e,o){r.append("files[]",e)}),n.post(t,r,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(o,n,t){console.log("edit success"),void 0!=o.error&&(e.show_error=!0,e.error=o.error),i(),console.log(e.error),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[]}).error(function(e,o,n){console.log("edit error"),console.log(e)})}else{console.log(e.newgallery),console.log(e.files.image);var t=o.base_url+"/Gallery_Controller/store",r=new FormData;angular.forEach(e.newgallery,function(e,o){r.append(o,e)}),angular.forEach(e.files.image,function(e,o){r.append("files[]",e)}),n.post(t,r,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(o,n,t){console.log("add success"),void 0!=o.error&&(e.show_error=!0,e.error=o.error),i(),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[],console.log(e.error)}).error(function(e,o,n){console.log("add error"),console.log(e)})}},e.showGalleryFiles=function(o){console.log(o),e.galleryfiles=o},e.deleteImage=function(n){console.log(n);var r=o.base_url+"/Gallery_Controller/delete_image",i=n;t.post(i,r).success(function(o,t,r){console.log("image deleted"),console.log(o);var i=e.item_files.indexOf(n);e.item_files.splice(i,1),console.log(e.item_files)}).error(function(e,o,n){console.log("delete image error"),console.log(e)})},e.deleteGallery=function(n){var r=confirm("DO you Want to delete this item?");if(r){var i=o.base_url+"/Gallery_Controller/delete";t.post(n,i).success(function(o,t,r){console.log("gallery deleted");var i=e.galleries.indexOf(n);e.galleries.splice(i,1)}).error(function(e,o,n){console.log("delete error"),console.log(e)})}}}),app.controller("portfolioController",function(e,o,n,t,r,i,l){function a(){n.get(t.base_url+"/admin/portfolio/get-all").then(function(o){o.data?(e.showtable=!0,e.portfolios=o.data,console.log(e.portfolios)):(console.log("No data found"),e.showtable=!1,e.message="No data Found")})}e.newportfolio={},e.portfolios=[],e.curportfolio={},e.message={},e.error={},e.showform=!1,e.showtable=!0,e.files=[],e.loading=!1,e.item_files=[],e.show_error=!1,a(),e.showForm=function(o){e.showform=!0,e.show_error=!1,e.curportfolio=o,e.newportfolio=angular.copy(o),angular.element("input[type='file']").val(null),e.filespre=[],e.item_files=o.files,console.log(e.item_files)},e.hideForm=function(){e.showform=!1},e.newPortfolio=function(){e.newportfolio={},e.showform=!0,angular.element("input[type='file']").val(null),e.filespre=[]},e.addPortfolio=function(){e.loading=!0;e.files.desktop,e.files.mobile;if(void 0!=e.newportfolio.link){var o=e.newportfolio.link;~o.indexOf("http")||(e.newportfolio.link="http://"+o)}e.newportfolio.date=r("date")(Date.parse(e.newportfolio.date),"yyyy-MM-dd");var i=new FormData;if(angular.forEach(e.newportfolio,function(e,o){i.append(o,e)}),angular.forEach(e.files.desktop,function(e,o){i.append("desktop[]",e)}),angular.forEach(e.files.mobile,function(e,o){i.append("mobile[]",e)}),void 0!=e.newportfolio.id){console.log("edit");var l=t.base_url+"/admin/portfolio/edit/"+e.newportfolio.id;n.post(l,i,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(o,n,t){console.log("edit succes"),console.log(o),void 0!=o.error&&(e.show_error=!0,e.error=o.error),a(),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[]}).error(function(o,n,t){console.log("edit error"),console.log(o),void 0!=o.error&&(e.show_error=!0,e.error=o.error),a(),angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[]})}else{console.log("add");var l=t.base_url+"/admin/portfolio/add";n.post(l,i,{transformRequest:angular.identity,headers:{"Content-type":void 0,"Process-Data":!1}}).success(function(o,n,t){console.log("add succes"),console.log(o),void 0!=o.error&&(e.show_error=!0,e.error=o.error),a(),e.showform=!1,angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[]}).error(function(o,n,t){console.log("add error"),console.log(o),void 0!=o.error&&(e.show_error=!0,e.error=o.error),a(),angular.element("input[type='file']").val(null),e.item_files=[],e.filespre=[]})}},e.deletePortfolio=function(e){var o=confirm("Do you want to delete this Record?");if(o){var r=e.id;n.delete(t.base_url+"/admin/portfolio/delete/"+r).success(function(e,o,n){console.log(e),alert(e),a()})}},e.deleteImage=function(o){var n=t.base_url+"/admin/portfolio/delete-image",r=o;l.post(r,n).success(function(n,t,r){console.log("portfolio file deleted");var i=e.item_files.indexOf(o);e.item_files.splice(i,1)}).error(function(e,o,n){console.log("portfolio file delete error")})}}),app.controller("testimonialController",function(e,o,n,t){function r(){o.get(n.base_url+"/Testimonial_Controller/get_all").then(function(o){o.data?(e.testimonials=o.data,e.showtable=!0,console.log(e.testimonials)):(console.log("No data Found"),e.showtable=!1,e.message="No data found")})}e.testimonials=[],e.newtestimonial={},e.curtestimonial={},e.files=[],e.showform=!1,e.loading=!1,e.message={},r(),e.newTestimonial=function(){e.newtestimonial={},angular.element("input[type='file']").val(null),e.filespre=[],e.showform=!0},e.showForm=function(o){console.log(o),e.showform=!0,e.curtestimonial=o,angular.element("input[type='file']").val(null),e.newtestimonial=angular.copy(o),e.filespre=[]},e.hideForm=function(){e.showform=!1},e.addTestimonial=function(){if(void 0!=e.newtestimonial.link){var t=e.newtestimonial.link;~t.indexOf("http")||(e.newtestimonial.link="http://"+t)}if(e.newtestimonial.id){console.log("edit"),console.log(e.newtestimonial);var i=new FormData,l=0;angular.forEach(e.newtestimonial,function(e,o){i.append(o,e)}),angular.forEach(e.files.photo,function(e,o){i.append("photo",e),l++});var a=n.base_url+"/testimonial_Controller/update";o.post(a,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(o,n,t){console.log("test add success"),console.log(o),e.testimonials.push(o),r(),e.newtestimonial={},e.showform=!1}).error(function(e,o,n){console.log("test add error"),console.log(e)})}else{console.log("add"),console.log(e.newtestimonial);var a=n.base_url+"/testimonial_Controller/store",i=new FormData,l=0;angular.forEach(e.newtestimonial,function(e,o){i.append(o,e)}),angular.forEach(e.files.photo,function(e,o){i.append("photo",e),l++}),o.post(a,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0,"Process-Data":!1}}).success(function(o,n,t){console.log("test add success"),e.testimonials.push(o),r(),e.newtestimonial={},e.showform=!1}).error(function(e,o,n){console.log("test add error"),console.log(e)})}},e.deleteTestimonial=function(o){console.log(o);var i=confirm("Do you want to delete this record?");if(i){var l=o.id,a=n.base_url+"/Testimonial_Controller/delete/"+l,s=o;t.post(s,a).success(function(n,t,i){console.log("deleted");var l=e.testimonials.indexOf(o);e.testimonials.splice(l,1),alert(n),r()}).error(function(e,o,n){console.log("delete error"),console.log(e)})}}}),app.controller("employeeController",function(e,o,n,t,r,i){function l(){n.get(t.base_url+"/admin/employee").then(function(o){o.data?(e.employees=o.data,e.showtable=!0):(console.log("No data found!"),e.showtable=!1,e.message="No Data Found")})}e.newemployee={},e.employees=[],e.curemploye=[],e.files=[],e.showform=!1,e.loading=!1,e.message={},l(),e.showForm=function(o){console.log(o),e.showform=!0,e.curemploye=o,e.newemployee=angular.copy(o),angular.element("input[type='file']").val(null),e.filespre=[]},e.hideForm=function(){e.showform=!1},e.newEmployee=function(){e.newemployee={},e.showform=!0,angular.element("input[type='file']").val(null),e.filespre=[]},e.addEmployee=function(){if(void 0!=e.newemployee.linkedin){var o=e.newemployee.linkedin;~o.indexOf("http")||(e.newemployee.linkedin="http://"+o)}if(void 0!=e.newemployee.facebook){var o=e.newemployee.facebook;~o.indexOf("http")||(e.newemployee.facebook="http://"+o)}if(void 0!=e.newemployee.twitter){var o=e.newemployee.twitter;~o.indexOf("http")||(e.newemployee.twitter="http://"+o)}if(void 0!=e.newemployee.googleplus){var o=e.newemployee.googleplus;~o.indexOf("http")||(e.newemployee.googleplus="http://"+o)}if(void 0!=e.newemployee.github){var o=e.newemployee.github;~o.indexOf("http")||(e.newemployee.github="http://"+o)}if(e.newemployee.id)if(e.files.photo){console.log("file seleect");var n=e.files.photo,a=t.base_url+"/admin/employee/upload";r.uploadFileToUrl(n,a,"dp").success(function(o,n,r){var a=t.base_url+"/admin/employee/insert-file";i.post(o,a).success(function(o,n,r){console.log("file uploaded"),console.log(e.newemployee),e.newemployee.files_id=o.files_id,console.log(e.newemployee);var a=t.base_url+"/admin/employee/edit",o=e.newemployee;i.post(o,a).success(function(o,n,t){console.log("edit success"),e.employees.push(o),l(),e.newemployee={},e.showform=!1}).error(function(e,o,n){console.log("edit error"),console.log(e),e.error&&alert(e.error)})})})}else{var s=t.base_url+"/admin/employee/edit",c=e.newemployee;i.post(c,s).success(function(o,n,t){console.log("edit success"),e.employees.push(o),l(),e.newemployee={},e.showform=!1}).error(function(e,o,n){console.log("edit error"),console.log(e),e.error&&alert(e.error)})}else if(e.files.photo){var n=e.files.photo,a=t.base_url+"/admin/employee/upload";r.uploadFileToUrl(n,a,"dp").success(function(o,n){var r=[];angular.forEach(o,function(e){r.push(e)});var a=t.base_url+"/admin/employee/insert-file";i.post(r,a).success(function(o,n,r){var a=t.base_url+"/admin/employee/add";e.newemployee.files_id=o.files_id;var s=e.newemployee;i.post(s,a).success(function(o,n,t){console.log("all success"),e.employees.push(o),l(),e.newemployee={},e.showform=!1}).error(function(e,o,n){console.log("employee insert error"),console.log(e)})}).error(function(e,o,n){console.log("error"),console.log(e)})}).error(function(e,o){console.log("upload error"),console.log(e)})}},e.deleteEmployee=function(o){console.log(o);var n=confirm("Do you want to delete this record?");if(n){var r=o.id,a=t.base_url+"/admin/employee/delete/"+r,s=o;i.post(s,a).success(function(n,t,r){console.log("deleted");var i=e.employees.indexOf(o);e.employees.splice(i,1),alert(n),l()}).error(function(e,o,n){console.log("delete error"),console.log(e)})}}}),app.controller("teamController",function(e,o,n,t){function r(){n.get(o.base_url+"/load_team").then(function(o){o.data?(e.teams=o.data,console.log(e.teams)):(e.message="No data Found",console.log("No data Found"))})}e.teams=[],o.base_url=e.baseUrl=t.protocol()+"://"+location.host,r()});